{% extends 'main.html' %}
{% block content %}


<h1>{{ publication }}</h1>


<h3>Автор:</h3>
<ul>
  {% for author in publication.author.all %}
    <li>{{ author.name }}</li>
  {% endfor %}
</ul>

{% if publication.editor %}
<h3>Редактор:</h3>
<ul>
  {% for editor in editor.author.all %}
    <li>{{ editor.name }}</li>
  {% endfor %}
</ul>
{% endif %}


{% if publication.journal %}
<h3>Журнал:</h3>
  <p>Название журнала: {{ publication.journal.name }}</p>
  <p>ISSN: {{ publication.journal.ISSN }}</p>
{% endif %}

{% if publication.year %}
<h3>Год:</h3>
  <p>{{ publication.year }}</p>
{% endif %}

{% if publication.volume %}
<h3>Том:</h3>
  <p>{{ publication.volume }}</p>
{% endif %}

{% if publication.number %}
<h3>Номер:</h3>
  <p>{{ publication.number }}</p>
{% endif %}

{% if publication.page %}
<h3>Страницы:</h3>
  <p>{{ publication.page }}</p>
{% endif %}

{% if publication.month %}
<h3>Месяц:</h3>
  <p>{{ publication.month }}</p>
{% endif %}

{% if publication.URL %}
  <h3>URL:</h3>
  <p><a href="{{ publication.URL }}">{{ publication.URL }}</a></p>
{% endif %}

<table>

    <tr>
      <h1>Publication: {{ publication.title }}</h1>

  <h2>Authors:</h2>
  <ul>
    {% for author in publication.author.all %}
      <li>{{ author.name }}</li>
    {% empty %}
      <li>No authors</li>
    {% endfor %}
  </ul>

  <h2>Journal:</h2>
  {% if publication.journal %}
    <p>{{ publication.journal.name }}</p>
  {% else %}
    <p>No journal</p>
  {% endif %}

  <h2>URL:</h2>
  {% if publication.URL %}
    <p><a href="{{ publication.URL }}">{{ publication.URL }}</a></p>
  {% else %}
    <p>No URL</p>
  {% endif %}
        

    {% for key, value in publication.get_fields %}

    <tr>
        <td>{{ key }}</td>
        {% if key != "PDF" %}
            <td>{{ value }}</td>
        {% else %}
            <td>
            <a href="{{publication.media}}/media/{{ value }}">Ссылка на файл</a>
            </td>
        {% endif %}
    </tr>
    {% empty %}
        <h3>Публикации не найдены</h3>
    {% endfor %}
    <tr>
        <td> Теги </td>
        <td>
        <ul>
        {% for tag in publication.tags.all %}
            <li> {{ tag.name }} </li>
        {% endfor %}
        </ul>
        </td>
    <tr>
</table>

{% endblock content %}